<div class="row mg-0 pd-0 clearfix justify-content-between  pt-2 bd-b ">
    <div class="col-lg-6">
        <h6 class="tx-echos1"><i class="fas fa-folder-open  bg-m" style="padding:6px; border-radius: 50%; "></i> Gestion des Dossiers</h6>
    </div>
    <div class="col-lg-6 ">
        <ul class="nav float-right list-inline justify-content-end">

            <li class="nav-item ">
                <a class="nav-link3 " data-toggle="tab" href="#"><span
                          class="tx-echos">
                          <i class="fas fa-question bg-light tx-16 tx-echos1"
                              style="padding:6px; border-radius:50%"></i> </span></a>
            </li>
        </ul>
    </div>
</div>


<div class="d-flex flex-xs justify-content-between bd-t">
    <div class=" col-lg-4 bd-r bd-2 " style="background:#FFFF; height:100vh ">
        <div class="row  justify-content-between  bg-light pt-2 bd-b">
            <div class="col-lg-12">
                <h6 class="tx-echos"><i class="fas fa-folder" style="padding:6px; border-radius: 50%; "></i> Dossiers principaux</h6>
            </div>
        </div>

        <div class="card-body p-0 ">
            <div class="row row-xs bd-b mg-0 pd-0 clearfix">

                <div class="col-lg-8">
                    <div class="input-group ">
                        <input type="text" class="form-control  border-0 " placeholder="Recherches...">
                    </div>
                </div>

                <div class="col-lg-4 ">
                    <ul class="nav float-right list-inline justify-content-end">

                        <li class="nav-item ">
                            <a class="nav-link3 " data-toggle="tab" href="#"><span
                          class="tx-echos">
                          <i class="fas fa-plus-circle bg-yeto tx-16 tx-white"
                              style="padding:6px; border-radius:50%"></i> </span></a>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="d-flex align-items-center flex-wrap bd-b" *ngIf="allUserStructures && allUserStructures.length;">

                <div class="p-2" *ngFor="let structure of allUserStructures" [class.accent-facebook-left]="selectedStructure && structure.id == selectedStructure.id" (click)="onSetSelected(structure)">
                    <h6 class="tx-echos tx-14"><i class="fas fa-folder-open tx-18 tx-echos"></i> {{structure.cigle}} : {{structure.libelle | titlecase}}</h6>
                    <span class=" mr-1  tx-14 mg-b-5 tx-success pl-2 ">
                      <i class="fas fa-envelope tx-14 mg-b-5 tx-success"></i>
                    </span>
                    <span class=" mr-1   mg-b-5 tx-success ">58</span>
                    <span class=" mr-1  tx-14 mg-b-5 tx-warning ">
                      <i class="fas fa-envelope-open tx-14 mg-b-5 tx-warning"></i>
                    </span>
                    <span class=" mr-1  mg-b-5 tx-warning">10 </span>
                    <span class=" mr-1  tx-14 mg-b-5 tx-echos1 ">
                      <i class="fas fa-envelope-open-text tx-14 mg-b-5 tx-echos1"></i>
                    </span>
                    <span class=" mr-1  mg-b-5 tx-echos1">10 </span>
                </div>
            </div>



        </div>
    </div>

    <div class="col-lg-8 ">
        <div class="grid-container">
            <div class="sidebar" [class.sidebar_small]="modalData">
                <div class="row row-xs justify-content-between  mg-0 pd-0  pt-1  " style="background: #f5f5f4;">

                    <div class="col-lg-7">
                        <div class="input-group ">
                            <input type="text" class="form-control  border-0 " style="background: #f5f5f4;" placeholder="Recherches..." [(ngModel)]="dataHelper.searchTerm">
                        </div>
                    </div>

                    <div class="col-lg-5 ">
                        <ul class="nav float-right list-inline h-100  justify-content-end">
                            <li class="nav-item my-auto">
                                <button class="btn btn-link btn-yeto btn-oblong card-1" [disabled]="(dataHelper.loading$ | async)" (click)="onShowCreateForm();">
                          <i class="fal fa-plus-circle tx-16" ></i>
                      </button>
                            </li>
                        </ul>
                    </div>

                </div>
                <ng-container *ngIf="dataHelper.data$ | async | baseColumnIdFilter:[{column: 'structure', filterBase: selectedStructure ? [selectedStructure] : [] }] as items">
                    <div class="row row-xs mg-0 pd-0 clearfix pt-2 pb-4 bg-light bd-t" *ngIf="items.length; else noItem">
                        <div class="col-lg-4 p-2" *ngFor="let dossier of items; trackBy: dataHelper.trackByFn">
                            <div class="mycard4" style="border-radius: 0% 10% 10% 10%;">
                                <div class="text-center bd-b bg-white p-3"> <i class="fas fa-folder tx-echos tx-50"></i></div>
                                <div class=" text-center p-2">
                                    <span class="tx-echos1 tx-bold" (click)="onSetSelect(dossier)"> {{ dossier.libelle | uppercase }} </span>
                                    <p class="p-0" (click)="onSetSelect(dossier)">
                                        <span class="tx-echos tx-bold"> {{dossier.structure?.cigle}} </span>
                                    </p>
                                    <p class="p-0 tx-14">
                                        <span class=" mr-1 bg-light tx-success  tx-bolder">{{dossier.nb_courrier_entrants}}</span>
                                        <span class=" mr-1 bg-light  tx-echos1  tx-bolder">||</span>
                                        <span class=" mr-1 bg-light tx-warning  tx-bolder">{{dossier.nb_courrier_sortants}}</span>
                                        <span class=" mr-1 bg-light  tx-echos1  tx-bolder">||</span>
                                        <span class=" mr-1 bg-light tx-echos1  tx-bolder">{{dossier.nb_courrier_internes}}</span>
                                    </p>
                                    <p class="">
                                        <span class=" mr-1 tx-bold" container="body" ngbTooltip="Modifier" (click)="onShowUpdateForm(dossier) "> <i class="fas fa-edit tx-echos"></i> </span>
                                        <span class=" mr-1 tx-bold" container="body" ngbTooltip="Dupliquer" (click)="onShowCreateForm(dossier) "> <i class="fas fa-clone tx-echos"></i> </span>
                                        <span class=" mr-1 tx-bold" container="body" ngbTooltip="Supprimer" (click)="onDelete(dossier) "> <i class="fas fa-times-square tx-echos"></i> </span>
                                    </p>
                                </div>

                            </div>
                        </div>
                    </div>
                </ng-container>
            </div>
            <div class="main-content scroll-11 " [class.main-content_large]="modalData">

            </div>
        </div>

    </div>
</div>

<ng-template #noItem>
    <h4 class="text-center title m-2 p-5 ">
        {{ 'Aucun Element' }}
    </h4>
</ng-template>

<ng-template #emptyTemplate>
    <div class="row mx-0 h-75 text-center ">
        <div class="col-sm-12 my-auto ">
            <i class="fal fa-folder-open fa-4x " style="color: #003d79 "></i>
            <br> Vide
        </div>
    </div>
</ng-template>
